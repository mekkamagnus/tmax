{
  "projectName": "tmax",
  "branchName": "ralph/024-bun-migration-functional-refactor",
  "userStories": [
    {
      "id": "US-024-00",
      "title": "Replace Deno with Bun in package.json Configuration",
      "description": "Update package.json to use Bun runtime instead of Deno. Remove Deno-specific configuration and add Bun-specific scripts and settings.",
      "acceptanceCriteria": [
        "package.json 'test' script uses 'bun test' instead of 'deno test'",
        "package.json 'start' script uses 'bun run' instead of 'deno run'",
        "package.json 'dev' script uses 'bun --watch' instead of 'deno task dev'",
        "Bun is listed in prerequisites or installation instructions",
        "No references to 'deno' in package.json scripts",
        "All development commands use 'bun run' prefix",
        "Bun version is specified if applicable"
      ],
      "priority": 1,
      "passes": true,
      "notes": "SPEC-024 Phase 0.1 - Critical foundation step for runtime migration"
    },
    {
      "id": "US-024-01",
      "title": "Replace Deno Standard Library Imports with Node/Bun Equivalents",
      "description": "Replace all 'https://deno.land/std/*' imports with npm packages or local imports. This includes assertion libraries, testing utilities, and any other Deno stdlib dependencies.",
      "acceptanceCriteria": [
        "All imports from 'https://deno.land/std/assert/mod.ts' are removed",
        "All imports from 'https://deno.land/std/testing/*' are removed",
        "Test files use 'bun:test' built-in assertions instead",
        "Source files use Node built-in modules (node:fs, node:path, etc.)",
        "No Deno stdlib URLs remain in the codebase",
        "Import statements compile without errors under Bun",
        "All imports use relative paths or npm package names"
      ],
      "priority": 1,
      "passes": true,
      "notes": "SPEC-024 Phase 0.2 - Must be completed before other phases"
    },
    {
      "id": "US-024-02",
      "title": "Replace Deno File System APIs with Bun/Node Equivalents",
      "description": "Replace all Deno.readTextFile(), Deno.writeTextFile(), Deno.mkdir(), Deno.stat(), and Deno.remove() calls with Bun.file() or Node fs/promises equivalents.",
      "acceptanceCriteria": [
        "Deno.readTextFile() replaced with Bun.file(path).text() or readTextFile from 'node:fs/promises'",
        "Deno.writeTextFile() replaced with Bun.write() or writeFile from 'node:fs/promises'",
        "Deno.mkdir() replaced with fs.mkdir() or Bun.$fs.mkdir()",
        "Deno.stat() replaced with fs.stat() or Bun.$fs.stat()",
        "Deno.remove() replaced with fs.rm() or Bun.$fs.unlink()",
        "File operations work correctly with new APIs",
        "Error handling is preserved with TaskEither pattern",
        "All file I/O tests pass"
      ],
      "priority": 2,
      "passes": true,
      "notes": "SPEC-024 Phase 0.3 - Core filesystem functionality must work"
    },
    {
      "id": "US-024-03",
      "title": "Replace Deno Terminal APIs with Node/Bun Equivalents",
      "description": "Replace Deno stdin/stdout handling and terminal control APIs with Node process.stdin/stdout or Bun-compatible alternatives.",
      "acceptanceCriteria": [
        "Deno.stdin.read() replaced with process.stdin.read() or equivalent",
        "Deno.stdout.write() replaced with process.stdout.write() or equivalent",
        "Terminal raw mode uses Node/Bun compatible implementation",
        "ANSI escape code handling works cross-platform",
        "Terminal size detection works with Bun",
        "Alternate screen buffer handling works correctly",
        "Cursor visibility control works",
        "All terminal operations function as before"
      ],
      "priority": 2,
      "passes": true,
      "notes": "SPEC-024 Phase 0.4 - May need npm package like 'node-pty' for terminal control"
    },
    {
      "id": "US-024-04",
      "title": "Remove Deno Configuration Files and Import Maps",
      "description": "Delete deno.json, deno.lock, and import_map.json files. Update tsconfig.json for Bun/Node module resolution. Ensure .gitignore includes node_modules/ and bun.lockb.",
      "acceptanceCriteria": [
        "deno.json file is deleted from project root",
        "deno.lock file is deleted",
        "import_map.json file is deleted",
        "tsconfig.json has proper moduleResolution for Bun ('bundler' or 'node')",
        ".gitignore includes 'node_modules/' entry",
        ".gitignore includes 'bun.lockb' entry",
        "Git repository no longer tracks Deno config files",
        "Module resolution works correctly with Bun"
      ],
      "priority": 3,
      "passes": true,
      "notes": "SPEC-024 Phase 0.5, 10.5 - Clean up Deno artifacts"
    },
    {
      "id": "US-024-05",
      "title": "Create Option<T> Type for Nullable Values",
      "description": "Implement Option<T> type (Some/None) for handling nullable values functionally. Create src/utils/option.ts with map, flatMap, fold, getOrElse methods and utility functions.",
      "acceptanceCriteria": [
        "src/utils/option.ts file exists with Option<T> type",
        "Option<T> has Some and None variants",
        "Option.map() method transforms value in Some",
        "Option.flatMap() method chains Option-returning operations",
        "Option.fold() method extracts value with default",
        "Option.getOrElse() method returns value or default",
        "Option.fromNullable() creates Option from nullable value",
        "Option.fromNull() and Option.fromUndefined() utilities exist",
        "JSDoc comments document all methods",
        "Unit tests exist in test/unit/option.test.ts",
        "All Option tests pass with Bun test"
      ],
      "priority": 10,
      "passes": false,
      "notes": "SPEC-024 Phase 1.1 - Core functional primitive"
    },
    {
      "id": "US-024-06",
      "title": "Create Centralized Error Type System",
      "description": "Create src/error/types.ts with discriminated union error types (BufferError, FileSystemError, TerminalError, ValidationError, ConfigError) and src/error/handlers.ts with error formatting utilities.",
      "acceptanceCriteria": [
        "src/error/types.ts exists with all error types defined",
        "BufferError type exists with specific error variants",
        "FileSystemError type exists with read/write/stat error variants",
        "TerminalError type exists with I/O and mode error variants",
        "ValidationError type exists with constraint violations",
        "ConfigError type exists with configuration error variants",
        "All error types use discriminated unions with 'type' field",
        "src/error/handlers.ts exists with formatError() utility",
        "src/error/handlers.ts has logError() utility",
        "Error code constants are defined",
        "JSDoc comments document all error types",
        "Unit tests cover error type creation and formatting"
      ],
      "priority": 10,
      "passes": false,
      "notes": "SPEC-024 Phase 1.2 - Foundation for centralized error handling"
    },
    {
      "id": "US-024-07",
      "title": "Create Constants Files for Magic Numbers",
      "description": "Create src/constants/buffer.ts, src/constants/terminal.ts, and src/constants/editor.ts with named constants for all hardcoded values like DEFAULT_BUFFER_SIZE = 64.",
      "acceptanceCriteria": [
        "src/constants/buffer.ts exists with DEFAULT_BUFFER_SIZE = 64",
        "src/constants/buffer.ts has BUFFER_GROWTH_FACTOR = 2",
        "src/constants/buffer.ts has MAX_BUFFER_SIZE constant",
        "src/constants/terminal.ts has terminal-related constants",
        "src/constants/editor.ts has editor configuration defaults",
        "All magic numbers in code are replaced with constants",
        "Constants use UPPER_SNAKE_CASE naming",
        "Constants are exported and documented with JSDoc",
        "No hardcoded numbers remain in source code"
      ],
      "priority": 15,
      "passes": false,
      "notes": "SPEC-024 Phase 1.3 - Improves code maintainability"
    },
    {
      "id": "US-024-08",
      "title": "Enhance TaskEither Utility Methods",
      "description": "Add tap(), tapError(), chainIf(), fromPromise(), and swap() methods to TaskEither class in src/utils/task-either.ts for improved functional composition.",
      "acceptanceCriteria": [
        "TaskEither.tap() method exists for side effects in success chain",
        "TaskEither.tapError() method exists for side effects in error chain",
        "TaskEither.chainIf() method exists for conditional chaining",
        "TaskEither.fromPromise() static constructor exists",
        "TaskEither.swap() method exists to convert Either<L,R> to Either<R,L>",
        "All new methods have proper TypeScript types",
        "All new methods have JSDoc documentation",
        "Unit tests exist for each new method",
        "Tests demonstrate usage patterns",
        "No breaking changes to existing TaskEither API"
      ],
      "priority": 15,
      "passes": false,
      "notes": "SPEC-024 Phase 1.4 - Enhanced functional utilities"
    },
    {
      "id": "US-024-09",
      "title": "Consolidate Duplicate FunctionalTextBuffer Interface Definitions",
      "description": "Remove duplicate FunctionalTextBuffer interface from src/core/buffer.ts. Keep only the definition in src/core/types.ts. Update all imports to use the canonical definition.",
      "acceptanceCriteria": [
        "FunctionalTextBuffer interface exists only in src/core/types.ts",
        "Duplicate definition removed from src/core/buffer.ts (lines 22-46)",
        "All files import FunctionalTextBuffer from src/core/types.ts",
        "No duplicate interface definitions in codebase",
        "All imports are consolidated to single source",
        "TypeScript compiles without ambiguous type errors",
        "All tests pass after consolidation"
      ],
      "priority": 20,
      "passes": false,
      "notes": "SPEC-024 Phase 2.1 - Remove code duplication"
    },
    {
      "id": "US-024-10",
      "title": "Replace throw Errors with Either in T-Lisp API",
      "description": "Refactor src/editor/tlisp-api.ts to return Either<ErrorType, TLispValue> instead of throwing errors. Create validation utilities for common patterns.",
      "acceptanceCriteria": [
        "No 'throw new Error()' statements in src/editor/tlisp-api.ts",
        "All API functions return Either<ErrorType, TLispValue>",
        "src/utils/validation.ts exists with validateArgsCount()",
        "src/utils/validation.ts has validateArgType()",
        "src/utils/validation.ts has validateBufferExists()",
        "src/utils/validation.ts has validateFilePath()",
        "Validation utilities return Either with proper error types",
        "API functions use validation utilities consistently",
        "Errors are returned via Either.left() not thrown",
        "Unit tests verify Either returns instead of exceptions"
      ],
      "priority": 5,
      "passes": false,
      "notes": "SPEC-024 Phase 3.1, 3.2 - Critical for functional error handling"
    },
    {
      "id": "US-024-11",
      "title": "Replace throw Errors with Either in T-Lisp Evaluator",
      "description": "Refactor src/tlisp/evaluator.ts to return Either<EvalError, TLispValue> instead of throwing. Update all call sites to handle Either results.",
      "acceptanceCriteria": [
        "No 'throw new Error()' in src/tlisp/evaluator.ts",
        "Evaluator returns Either<EvalError, TLispValue>",
        "All call sites handle Either results with fold/map/flatMap",
        "Error types are specific (EvalError with variants)",
        "Success and error paths are both tested",
        "No uncaught exceptions during evaluation",
        "Evaluator tests pass with Either assertions",
        "Integration tests verify error propagation"
      ],
      "priority": 6,
      "passes": false,
      "notes": "SPEC-024 Phase 3.3 - Core T-Lisp interpreter"
    },
    {
      "id": "US-024-12",
      "title": "Replace throw Errors with Either in T-Lisp Parser",
      "description": "Refactor src/tlisp/parser.ts to return Either<ParseError, TLispAST> instead of throwing. Update all call sites to handle Either results.",
      "acceptanceCriteria": [
        "No 'throw new Error()' in src/tlisp/parser.ts",
        "Parser returns Either<ParseError, TLispAST>",
        "All call sites handle Either results",
        "ParseError types are specific and descriptive",
        "Both valid and invalid input are tested",
        "Error messages are helpful and actionable",
        "Parser tests pass with Either assertions",
        "Invalid syntax returns Either.left with details"
      ],
      "priority": 6,
      "passes": false,
      "notes": "SPEC-024 Phase 3.4 - Core T-Lisp parsing"
    },
    {
      "id": "US-024-13",
      "title": "Replace throw Errors with Either in T-Lisp Tokenizer",
      "description": "Refactor src/tlisp/tokenizer.ts to return Either<TokenizeError, Token[]> instead of throwing. Update all call sites to handle Either results.",
      "acceptanceCriteria": [
        "No 'throw new Error()' in src/tlisp/tokenizer.ts",
        "Tokenizer returns Either<TokenizeError, Token[]>",
        "All call sites handle Either results",
        "TokenizeError types capture lexical errors",
        "Invalid tokens return descriptive errors",
        "Valid token sequences are tested",
        "Tokenizer tests pass with Either assertions",
        "Error location information is preserved"
      ],
      "priority": 6,
      "passes": false,
      "notes": "SPEC-024 Phase 3.5 - Core T-Lisp tokenization"
    },
    {
      "id": "US-024-14",
      "title": "Replace 'any' Types in Editor Core",
      "description": "Fix all 'any' types in src/editor/editor.ts. Replace 'set mode(v: any)' with proper EditorMode union type. Fix 'executeCommand(command: string): any' return type.",
      "acceptanceCriteria": [
        "EditorMode type defined as 'normal' | 'insert' | 'visual' | 'command' | 'mx'",
        "set mode(v: any) replaced with set mode(v: EditorMode)",
        "executeCommand() return type is properly typed (not 'any')",
        "All other 'any' types in editor.ts are replaced",
        "TypeScript compiles without 'any' type errors",
        "EditorMode type is exported and reusable",
        "All mode assignments are type-safe",
        "Unit tests verify mode type safety"
      ],
      "priority": 7,
      "passes": false,
      "notes": "SPEC-024 Phase 4.1 - Type safety in editor core"
    },
    {
      "id": "US-024-15",
      "title": "Replace 'any' Types in T-Lisp REPL",
      "description": "Replace all 'any' types in src/tlisp/repl.ts with proper TypeScript types. Define interfaces for REPL state and commands.",
      "acceptanceCriteria": [
        "REPL state interface exists with proper types",
        "REPL command interface is defined",
        "All 'any' types in repl.ts are replaced",
        "Function parameters have explicit types",
        "Return types are explicitly defined",
        "JSDoc comments clarify complex types",
        "No implicit 'any' remains in REPL",
        "REPL tests pass with strict type checking"
      ],
      "priority": 12,
      "passes": false,
      "notes": "SPEC-024 Phase 4.2 - Type safety in REPL"
    },
    {
      "id": "US-024-16",
      "title": "Replace 'any' Types in Frontend Components",
      "description": "Replace 'any' types in src/frontend/types.ts and event listeners. Define proper event types as discriminated unions (KeyEvent, MouseEvent, ResizeEvent).",
      "acceptanceCriteria": [
        "Event types defined as discriminated unions",
        "KeyEvent type exists with proper properties",
        "MouseEvent type exists if needed",
        "ResizeEvent type exists if needed",
        "Event listeners use union types instead of 'any'",
        "onEvent: (event: KeyEvent | MouseEvent | ResizeEvent) => void",
        "All frontend type definitions are specific",
        "No 'any' in type definitions",
        "Frontend tests verify type safety"
      ],
      "priority": 12,
      "passes": false,
      "notes": "SPEC-024 Phase 4.3 - Type safety in frontend"
    },
    {
      "id": "US-024-17",
      "title": "Create Comprehensive Type Definition File",
      "description": "Create src/types/index.ts exporting all common types. Define EditorMode, KeySequence, CommandResult, BufferState, and ViewportState types.",
      "acceptanceCriteria": [
        "src/types/index.ts file exists",
        "EditorMode type exported",
        "KeySequence type defined",
        "CommandResult type defined",
        "BufferState type defined",
        "ViewportState type defined",
        "All common types are centralized",
        "Types are properly documented with JSDoc",
        "Other files import from src/types/index.ts",
        "No duplicate type definitions across codebase",
        "Type exports are organized and clear"
      ],
      "priority": 15,
      "passes": false,
      "notes": "SPEC-024 Phase 4.5 - Centralize type definitions"
    },
    {
      "id": "US-024-18",
      "title": "Refactor Filesystem to Use TaskEither Pattern",
      "description": "Refactor src/core/filesystem.ts to use TaskEither<FileSystemError, T> instead of Promise<T>. Replace Deno APIs with Bun/Node equivalents. Implement functional error handling.",
      "acceptanceCriteria": [
        "All methods return TaskEither<FileSystemError, T>",
        "readFile() returns TaskEither<FileSystemError, string>",
        "writeFile() returns TaskEither<FileSystemError, void>",
        "exists() returns TaskEither<FileSystemError, boolean>",
        "stat() returns TaskEither<FileSystemError, FileStats>",
        "remove() returns TaskEither<FileSystemError, void>",
        "Deno APIs replaced with Bun.file() or Node fs/promises",
        "Errors are returned via Either, not thrown",
        "All filesystem call sites use TaskEither pattern",
        "Filesystem tests pass with TaskEither assertions"
      ],
      "priority": 8,
      "passes": false,
      "notes": "SPEC-024 Phase 5.1 - Async operations with TaskEither"
    },
    {
      "id": "US-024-19",
      "title": "Refactor Terminal I/O to Use TaskEither Pattern",
      "description": "Refactor src/core/terminal.ts to use TaskEither<TerminalError, void> for async methods. Update to FunctionalTerminalIO interface. Keep sync methods using Either.",
      "acceptanceCriteria": [
        "Async methods return TaskEither<TerminalError, void>",
        "Sync methods return Either<TerminalError, T>",
        "clear() returns TaskEither<TerminalError, void>",
        "write() returns TaskEither<TerminalError, void>",
        "moveCursor() returns TaskEither<TerminalError, void>",
        "readKey() returns TaskEither<TerminalError, string>",
        "enterRawMode() returns TaskEither<TerminalError, void>",
        "exitRawMode() returns TaskEither<TerminalError, void>",
        "Terminal APIs use Node/Bun compatible implementations",
        "All terminal tests pass with TaskEither"
      ],
      "priority": 8,
      "passes": false,
      "notes": "SPEC-024 Phase 5.3 - Terminal I/O with TaskEither"
    },
    {
      "id": "US-024-20",
      "title": "Split createEditorAPI() into Functional Modules",
      "description": "Split the large createEditorAPI() function into separate modules: buffer-ops.ts, cursor-ops.ts, mode-ops.ts, file-ops.ts, bindings-ops.ts in src/editor/api/ directory.",
      "acceptanceCriteria": [
        "src/editor/api/buffer-ops.ts exists with buffer operations",
        "src/editor/api/cursor-ops.ts exists with cursor operations",
        "src/editor/api/mode-ops.ts exists with mode operations",
        "src/editor/api/file-ops.ts exists with file operations",
        "src/editor/api/bindings-ops.ts exists with binding operations",
        "Each module exports API function map",
        "createEditorAPI() imports and composes these modules",
        "Each module is independently testable",
        "Functions are small and focused",
        "createEditorAPI() is significantly smaller and clearer",
        "All editor API tests still pass"
      ],
      "priority": 13,
      "passes": false,
      "notes": "SPEC-024 Phase 6.1 - Reduce complexity in tlisp-api.ts"
    },
    {
      "id": "US-024-21",
      "title": "Split handleKey() into Mode-Specific Handlers",
      "description": "Extract mode-specific logic from handleKey() into separate handler files: normal-handler.ts, insert-handler.ts, visual-handler.ts, command-handler.ts, mx-handler.ts in src/editor/handlers/.",
      "acceptanceCriteria": [
        "src/editor/handlers/normal-handler.ts exists",
        "src/editor/handlers/insert-handler.ts exists",
        "src/editor/handlers/visual-handler.ts exists",
        "src/editor/handlers/command-handler.ts exists",
        "src/editor/handlers/mx-handler.ts exists",
        "Each handler exports handleKey() for its mode",
        "Main handleKey() dispatches to appropriate handler",
        "Handler selection uses pattern matching or clean switch",
        "Each handler is independently testable",
        "Handler functions are focused and readable",
        "All key handling tests pass",
        "All modes work correctly"
      ],
      "priority": 13,
      "passes": false,
      "notes": "SPEC-024 Phase 6.2 - Reduce complexity in handleKey()"
    },
    {
      "id": "US-024-22",
      "title": "Extract loadCoreBindings() Logic",
      "description": "Extract loadCoreBindings() logic into separate functions: path resolution, binding loading, and fallback. Compose these functions cleanly.",
      "acceptanceCriteria": [
        "resolveBindingsPath() function exists",
        "loadBindingsFromFile() function exists",
        "loadFallbackBindings() function exists",
        "loadCoreBindings() composes these functions",
        "Each function has single responsibility",
        "Functions are pure or have clear side effects",
        "Error handling uses Either/TaskEither",
        "Functions are independently testable",
        "Load bindings tests pass",
        "Fallback mechanism works correctly"
      ],
      "priority": 18,
      "passes": false,
      "notes": "SPEC-024 Phase 6.3 - Improve loadCoreBindings() structure"
    },
    {
      "id": "US-024-23",
      "title": "Remove Legacy Wrapper Classes from Buffer",
      "description": "Delete TextBufferImpl class (lines 558-652) and GapBuffer class (lines 661-729) from src/core/buffer.ts. Verify no code references these classes.",
      "acceptanceCriteria": [
        "TextBufferImpl class removed from src/core/buffer.ts",
        "GapBuffer class removed from src/core/buffer.ts",
        "No code references TextBufferImpl",
        "No code references GapBuffer (legacy)",
        "FunctionalGapBuffer remains (used by FunctionalTextBufferImpl)",
        "All buffer tests pass",
        "No TypeScript errors after removal",
        "Code compiles successfully"
      ],
      "priority": 20,
      "passes": false,
      "notes": "SPEC-024 Phase 7.1 - Remove dead code"
    },
    {
      "id": "US-024-24",
      "title": "Remove Backup Directory and Debug Artifacts",
      "description": "Delete backups/original-core/ directory, debug-test.txt, manual-test.txt, mode-capture.txt, and unused scripts/debug-*.ts files.",
      "acceptanceCriteria": [
        "backups/original-core/ directory deleted",
        "debug-test.txt deleted",
        "manual-test.txt deleted",
        "mode-capture.txt deleted",
        "Unused scripts/debug-*.ts files deleted",
        "No broken references after deletion",
        "Git repository no longer tracks these files",
        ".gitignore updated to prevent future commits",
        "Project root is clean"
      ],
      "priority": 25,
      "passes": false,
      "notes": "SPEC-024 Phase 7.2, 7.3 - Clean up project"
    },
    {
      "id": "US-024-25",
      "title": "Archive Completed Specs",
      "description": "Review specs/SPECS_INDEX.md, move completed specs to specs/archive/ directory, and update the index.",
      "acceptanceCriteria": [
        "specs/SPECS_INDEX.md reviewed for completed specs",
        "Completed specs moved to specs/archive/",
        "SPECS_INDEX.md updated to remove archived specs",
        "Archive directory exists",
        "Spec links are updated if needed",
        "Only active specs remain in main directory",
        "Index is accurate and current"
      ],
      "priority": 25,
      "passes": false,
      "notes": "SPEC-024 Phase 7.4 - Organize specs"
    },
    {
      "id": "US-024-26",
      "title": "Update Tests to Use Bun Test Syntax",
      "description": "Convert all test files from Deno test syntax to Bun test syntax. Replace Deno.test() with describe()/test() from bun:test. Replace assertEquals with expect().",
      "acceptanceCriteria": [
        "All test files import from 'bun:test'",
        "Deno.test() replaced with describe()/test()",
        "assertEquals replaced with expect().toBe()",
        "assertRejects replaced with expect().rejects",
        "assertThrows replaced with expect().toThrow()",
        "Test structure uses describe() for suites",
        "All 131+ tests pass with Bun test",
        "Test syntax is consistent across all files",
        "No Deno test imports remain",
        "Tests are readable and well-organized"
      ],
      "priority": 4,
      "passes": true,
      "notes": "SPEC-024 Phase 9.1 - Must convert all tests for Bun"
    },
    {
      "id": "US-024-27",
      "title": "Update CLAUDE.md for Bun Runtime and Functional Patterns",
      "description": "Update CLAUDE.md to document Bun runtime, remove Deno references, document functional patterns (Option, Either, TaskEither), and add Bun migration notes.",
      "acceptanceCriteria": [
        "CLAUDE.md documents Bun as primary runtime",
        "All 'use deno' replaced with 'use bun'",
        "Test commands use 'bun test'",
        "Option<T> pattern documented with examples",
        "Centralized error types documented",
        "Either/TaskEither usage guidelines added",
        "Bun Migration Notes section added",
        "API replacement examples included",
        "Error Handling section updated",
        "Code examples use Bun APIs",
        "All examples are accurate and tested"
      ],
      "priority": 22,
      "passes": false,
      "notes": "SPEC-024 Phase 10.1 - Critical documentation update"
    },
    {
      "id": "US-024-28",
      "title": "Update README.md for Bun Runtime",
      "description": "Update README.md to reflect Bun runtime. Change installation from 'deno install' to 'bun install'. Update all command examples from 'deno task start' to 'bun run start'.",
      "acceptanceCriteria": [
        "README.md lists Bun as prerequisite (not Deno)",
        "Installation uses 'bun install' instead of 'deno install",
        "Start command uses 'bun run src/main.ts'",
        "Dev command uses 'bun --watch' or 'bun run dev'",
        "Test command uses 'bun test'",
        "REPL command uses 'bun run repl'",
        "All command examples use Bun syntax",
        "Deno references removed or updated",
        "Quick start guide works with Bun",
        "All examples are accurate"
      ],
      "priority": 22,
      "passes": false,
      "notes": "SPEC-024 Phase 10.4 - User-facing documentation"
    },
    {
      "id": "US-024-29",
      "title": "Create Functional Error Handling Examples",
      "description": "Create examples/functional-error-handling.ts with patterns for validation, async operations, nullable handling, error recovery, and error logging.",
      "acceptanceCriteria": [
        "examples/functional-error-handling.ts file exists",
        "Validation with Either example included",
        "Async operations with TaskEither example included",
        "Nullable handling with Option example included",
        "Error recovery and retry example included",
        "Error logging pattern example included",
        "All examples use Bun APIs (not Deno)",
        "Code is commented and educational",
        "Examples run without errors",
        "Examples demonstrate best practices"
      ],
      "priority": 30,
      "passes": false,
      "notes": "SPEC-024 Phase 8.3 - Educational resource"
    },
    {
      "id": "US-024-30",
      "title": "Final Validation and Quality Gates",
      "description": "Run all validation commands from SPEC-024. Ensure zero 'any' types, zero 'throw' statements (except TaskEither.tryCatch), zero Deno imports, and all tests pass.",
      "acceptanceCriteria": [
        "bun run tsc --noEmit completes with 0 errors",
        "grep -r ': any' src/ returns 0 matches",
        "grep -r 'throw new Error' src/ returns 0 matches",
        "grep -r 'from \"https://deno.land' src/ returns 0 matches",
        "grep -r 'Deno\\.' src/ returns 0 matches",
        "deno.json and deno.lock files do not exist",
        "import_map.json does not exist",
        "bun test runs all 131+ tests successfully",
        "All tests pass (100% pass rate)",
        "bun run src/main.ts starts successfully",
        "Application is fully functional on Bun",
        "Code quality validation passes"
      ],
      "priority": 1,
      "passes": false,
      "notes": "SPEC-024 Validation - Final gate before completion"
    }
  ],
  "metadata": {
    "createdAt": "2026-01-30",
    "updatedFor": "Bun Runtime Migration and Functional Refactoring",
    "specType": "refactor",
    "specReference": "SPEC-024-chore_functional_refactoring.md",
    "estimatedIterations": 30,
    "criticalPath": [
      "US-024-00",
      "US-024-01",
      "US-024-02",
      "US-024-03",
      "US-024-04",
      "US-024-26"
    ]
  }
}
