;; visual.tlisp
;; Default key bindings for visual mode in tmax editor
;;
;; This file contains all default key bindings for visual mode, extracted from TypeScript
;; to achieve pure T-Lisp-centric key binding management.
;;
;; Maintainer guidance:
;; - Each (key-bind) call defines a key, command, and optional mode
;; - Commands are T-Lisp expressions that get executed when keys are pressed
;; - Mode is specified as "visual" for all bindings in this file
;; - Keep bindings organized by functional groups for readability

;; =================================================================
;; VISUAL MODE BINDINGS (US-1.7.1)
;; =================================================================
;; Key bindings specific to visual mode

;; Navigation keys (same as normal mode) - update visual selection after movement
(key-bind "h" "(progn (cursor-move (cursor-line) (- (cursor-column) 1)) (visual-update-end))" "visual")
(key-bind "j" "(progn (cursor-move (+ (cursor-line) 1) (cursor-column)) (visual-update-end))" "visual")
(key-bind "k" "(progn (cursor-move (- (cursor-line) 1) (cursor-column)) (visual-update-end))" "visual")
(key-bind "l" "(progn (cursor-move (cursor-line) (+ (cursor-column) 1)) (visual-update-end))" "visual")

;; Word navigation - update visual selection after movement
(key-bind "w" "(progn (word-next) (visual-update-end))" "visual")
(key-bind "b" "(progn (word-previous) (visual-update-end))" "visual")
(key-bind "e" "(progn (word-end) (visual-update-end))" "visual")

;; Exit visual mode (Escape)
(key-bind "Escape" "(visual-exit)" "visual")

;; Delete selected text (d)
(key-bind "d" "(visual-delete)" "visual")

;; Yank (copy) selected text (y)
(key-bind "y" "(visual-yank)" "visual")

;; Lowercase selected text (u)
(key-bind "u" "(visual-lowercase)" "visual")

;; Uppercase selected text (U)
(key-bind "U" "(visual-uppercase)" "visual")
